--
-- ER/Studio 8.0 SQL Code Generation
-- Company :      c
-- Project :      disposable.dm1
-- Author :       Casey
--
-- Date Created : Tuesday, October 22, 2013 22:49:25
-- Target DBMS : MySQL 5.x
--

-- 
-- TABLE: DISPOSABLE.APP 
--

CREATE TABLE DISPOSABLE.APP(
    APP_SID    INT UNSIGNED  NOT NULL,
    PRIMARY KEY (APP_SID)
)ENGINE=INNODB
;



-- 
-- TABLE: DISPOSABLE.APP_OBJECT 
--

CREATE TABLE DISPOSABLE.APP_OBJECT(
    APP_SID       INT UNSIGNED  NOT NULL,
    OBJECT_SID    INT UNSIGNED  NOT NULL,
    PRIMARY KEY (APP_SID, OBJECT_SID)
)ENGINE=INNODB
;



-- 
-- TABLE: DISPOSABLE.AUTHORIZABLE_OBJECT 
--

CREATE TABLE DISPOSABLE.AUTHORIZABLE_OBJECT(
    APP_SID       INT UNSIGNED  NOT NULL,
    OBJECT_SID    INT UNSIGNED  NOT NULL,
    PRIMARY KEY (APP_SID, OBJECT_SID)
)ENGINE=INNODB
;



-- 
-- TABLE: DISPOSABLE.OBJECT 
--

CREATE TABLE DISPOSABLE.OBJECT(
    OBJECT_SID           INT UNSIGNED  NOT NULL,
    PARENT_OBJECT_SID    INT UNSIGNED,
    OBJECT_TYPE_ID       INT UNSIGNED  NOT NULL,
    PRIMARY KEY (OBJECT_SID)
)ENGINE=INNODB
;



-- 
-- TABLE: DISPOSABLE.OBJECT_OBJECT_TYPE 
--

CREATE TABLE DISPOSABLE.OBJECT_OBJECT_TYPE(
    OBJECT_SID        INT UNSIGNED  NOT NULL,
    OBJECT_TYPE_ID    INT UNSIGNED  NOT NULL,
    PRIMARY KEY (OBJECT_SID, OBJECT_TYPE_ID)
)ENGINE=INNODB
;



-- 
-- TABLE: DISPOSABLE.OBJECT_PERMISSION_SET 
--

CREATE TABLE DISPOSABLE.OBJECT_PERMISSION_SET(
    APP_SID                      INT UNSIGNED  NOT NULL,
    PERMISSION_ID                INT UNSIGNED  NOT NULL,
    SECONDARY_OBJECT_SID         INT UNSIGNED  NOT NULL,
    PRIMARY_OBJECT_SID           INT UNSIGNED  NOT NULL,
    OBJECT_SID                   INT UNSIGNED  NOT NULL,
    PRIMARY_OBJECT_TYPE_ID       INT UNSIGNED  NOT NULL,
    SECONDARY_OBJECT_TYPE_ID     INT UNSIGNED  NOT NULL,
    PERMISSION_GRANULARITY_ID    INT UNSIGNED  DEFAULT 2 NOT NULL,
    PERMISSION_TYPE_ID           INT UNSIGNED  NOT NULL,
    POSITION                     INT UNSIGNED  NOT NULL,
    SET                          TINYINT UNSIGNED  NOT NULL,
    CONSTRAINT CHK_OBJECT_PERMISSION_SET_SET CHECK (SET IN (0, 1)),
    CONSTRAINT CHK_OBJECT_PERMISSION_SET_PERMISSION_GRANULARITY_ID CHECK (PERMISSION_GRANULARITY_ID IN (2)),
    PRIMARY KEY (APP_SID, PERMISSION_ID, OBJECT_SID)
)ENGINE=INNODB
;



-- 
-- TABLE: DISPOSABLE.OBJECT_RELATIONSHIP 
--

CREATE TABLE DISPOSABLE.OBJECT_RELATIONSHIP(
    APP_SID       INT UNSIGNED  NOT NULL,
    OBJECT_SID    INT UNSIGNED  NOT NULL,
    PRIMARY KEY (APP_SID, OBJECT_SID)
)ENGINE=INNODB
;



-- 
-- TABLE: DISPOSABLE.OBJECT_SID_POOL 
--

CREATE TABLE DISPOSABLE.OBJECT_SID_POOL(
    OBJECT_SID    INT UNSIGNED  AUTO_INCREMENT,
    PRIMARY KEY (OBJECT_SID)
)ENGINE=INNODB
;



-- 
-- TABLE: DISPOSABLE.OBJECT_TYPE 
--

CREATE TABLE DISPOSABLE.OBJECT_TYPE(
    OBJECT_TYPE_ID    INT UNSIGNED    NOT NULL,
    DESCRIPTION       VARCHAR(100)    NOT NULL,
    PRIMARY KEY (OBJECT_TYPE_ID)
)ENGINE=INNODB
;



-- 
-- TABLE: DISPOSABLE.OBJECT_TYPE_PERMISSION 
--

CREATE TABLE DISPOSABLE.OBJECT_TYPE_PERMISSION(
    OBJECT_TYPE_ID    INT UNSIGNED  NOT NULL,
    PERMISSION_ID     INT UNSIGNED  NOT NULL,
    PRIMARY KEY (OBJECT_TYPE_ID, PERMISSION_ID)
)ENGINE=INNODB
;



-- 
-- TABLE: DISPOSABLE.OBJECT_TYPE_PERMISSION_GRANULARITY 
--

CREATE TABLE DISPOSABLE.OBJECT_TYPE_PERMISSION_GRANULARITY(
    OBJECT_TYPE_ID               INT UNSIGNED  NOT NULL,
    PERMISSION_GRANULARITY_ID    INT UNSIGNED  NOT NULL,
    PRIMARY KEY (OBJECT_TYPE_ID, PERMISSION_GRANULARITY_ID)
)ENGINE=INNODB
;



-- 
-- TABLE: DISPOSABLE.OBJECT_TYPE_PERMISSION_SET 
--

CREATE TABLE DISPOSABLE.OBJECT_TYPE_PERMISSION_SET(
    APP_SID                      INT UNSIGNED  NOT NULL,
    PRIMARY_OBJECT_TYPE_ID       INT UNSIGNED  NOT NULL,
    SECONDARY_OBJECT_TYPE_ID     INT UNSIGNED  NOT NULL,
    PERMISSION_ID                INT UNSIGNED  NOT NULL,
    PERMISSION_GRANULARITY_ID    INT UNSIGNED  DEFAULT 1 NOT NULL,
    PERMISSION_TYPE_ID           INT UNSIGNED  NOT NULL,
    POSITION                     INT         NOT NULL,
    SET                          SMALLINT    NOT NULL,
    CONSTRAINT CHK_OBJECT_TYPE_PERMISSION_SET_PERMISSION_GRANULARITY_ID CHECK (PERMISSION_GRANULARITY_ID IN (1)),
    CONSTRAINT CHK_OBJECT_TYPE_PERMISSION_SET_SET CHECK (SET IN (0, 1)),
    PRIMARY KEY (APP_SID, PRIMARY_OBJECT_TYPE_ID, SECONDARY_OBJECT_TYPE_ID, PERMISSION_ID)
)ENGINE=INNODB
;



-- 
-- TABLE: DISPOSABLE.OBJECT_TYPE_RELATIONSHIP 
--

CREATE TABLE DISPOSABLE.OBJECT_TYPE_RELATIONSHIP(
    PRIMARY_OBJECT_TYPE_ID      INT UNSIGNED  NOT NULL,
    SECONDARY_OBJECT_TYPE_ID    INT UNSIGNED  NOT NULL,
    PRIMARY KEY (PRIMARY_OBJECT_TYPE_ID, SECONDARY_OBJECT_TYPE_ID)
)ENGINE=INNODB
;



-- 
-- TABLE: DISPOSABLE.PERMISSION 
--

CREATE TABLE DISPOSABLE.PERMISSION(
    PERMISSION_ID    INT UNSIGNED    NOT NULL,
    DESCRIPTION      VARCHAR(100)    NOT NULL,
    PRIMARY KEY (PERMISSION_ID)
)ENGINE=INNODB
;



-- 
-- TABLE: DISPOSABLE.PERMISSION_GRANULARITY 
--

CREATE TABLE DISPOSABLE.PERMISSION_GRANULARITY(
    PERMISSION_GRANULARITY_ID    INT UNSIGNED  NOT NULL,
    DESCRIPTION                  INT    NOT NULL,
    PRIMARY KEY (PERMISSION_GRANULARITY_ID)
)ENGINE=INNODB
;



-- 
-- TABLE: DISPOSABLE.PERMISSION_TYPE 
--

CREATE TABLE DISPOSABLE.PERMISSION_TYPE(
    PERMISSION_TYPE_ID    INT UNSIGNED   NOT NULL,
    DESCRIPTION           VARCHAR(10)    NOT NULL,
    PRIMARY KEY (PERMISSION_TYPE_ID)
)ENGINE=INNODB
;



-- 
-- TABLE: DISPOSABLE.ROLE 
--

CREATE TABLE DISPOSABLE.ROLE(
    APP_SID            INT UNSIGNED  NOT NULL,
    OBJECT_SID         INT UNSIGNED  NOT NULL,
    SYSTEM_ROLE_SID    INT UNSIGNED,
    PRIMARY KEY (APP_SID, OBJECT_SID)
)ENGINE=INNODB
;



-- 
-- TABLE: DISPOSABLE.ROLE_MEMBER 
--

CREATE TABLE DISPOSABLE.ROLE_MEMBER(
    APP_SID       INT UNSIGNED  NOT NULL,
    OBJECT_SID    INT UNSIGNED  NOT NULL,
    PRIMARY KEY (APP_SID, OBJECT_SID)
)ENGINE=INNODB
;



-- 
-- TABLE: DISPOSABLE.SYSTEM_DEVICE 
--

CREATE TABLE DISPOSABLE.SYSTEM_DEVICE(
    DEVICE_SID    INT UNSIGNED  NOT NULL,
    PRIMARY KEY (DEVICE_SID)
)ENGINE=INNODB
;



-- 
-- TABLE: DISPOSABLE.SYSTEM_ROLE 
--

CREATE TABLE DISPOSABLE.SYSTEM_ROLE(
    SYSTEM_ROLE_SID    INT UNSIGNED  NOT NULL,
    PRIMARY KEY (SYSTEM_ROLE_SID)
)ENGINE=INNODB
;



-- 
-- TABLE: DISPOSABLE.SYSTEM_USER 
--

CREATE TABLE DISPOSABLE.SYSTEM_USER(
    USER_SID    INT UNSIGNED  NOT NULL,
    PRIMARY KEY (USER_SID)
)ENGINE=INNODB
;



-- 
-- TABLE: DISPOSABLE.SYSTEM_USER_DEVICE 
--

CREATE TABLE DISPOSABLE.SYSTEM_USER_DEVICE(
    USER_SID      INT UNSIGNED  NOT NULL,
    DEVICE_SID    INT UNSIGNED  NOT NULL,
    PRIMARY KEY (USER_SID, DEVICE_SID)
)ENGINE=INNODB
;



-- 
-- TABLE: DISPOSABLE.USER 
--

CREATE TABLE DISPOSABLE.USER(
    APP_SID     INT UNSIGNED  NOT NULL,
    USER_SID    INT UNSIGNED  NOT NULL,
    PRIMARY KEY (APP_SID, USER_SID)
)ENGINE=INNODB
;



-- 
-- TABLE: DISPOSABLE.USER_DEVICE 
--

CREATE TABLE DISPOSABLE.USER_DEVICE(
    APP_SID       INT UNSIGNED  NOT NULL,
    OBJECT_SID    INT UNSIGNED  NOT NULL,
    USER_SID      INT UNSIGNED  NOT NULL,
    DEVICE_SID    INT UNSIGNED  NOT NULL,
    PRIMARY KEY (APP_SID)
)ENGINE=INNODB
;



-- 
-- TABLE: DISPOSABLE.APP 
--

ALTER TABLE DISPOSABLE.APP ADD CONSTRAINT FK_OBJECT_APP 
    FOREIGN KEY (APP_SID)
    REFERENCES DISPOSABLE.OBJECT(OBJECT_SID)
;


-- 
-- TABLE: DISPOSABLE.APP_OBJECT 
--

ALTER TABLE DISPOSABLE.APP_OBJECT ADD CONSTRAINT FK_APP_APP_OBJECT 
    FOREIGN KEY (APP_SID)
    REFERENCES DISPOSABLE.APP(APP_SID)
;

ALTER TABLE DISPOSABLE.APP_OBJECT ADD CONSTRAINT FK_OBJECT_APP_OBJECT 
    FOREIGN KEY (OBJECT_SID)
    REFERENCES DISPOSABLE.OBJECT(OBJECT_SID)
;


-- 
-- TABLE: DISPOSABLE.AUTHORIZABLE_OBJECT 
--

ALTER TABLE DISPOSABLE.AUTHORIZABLE_OBJECT ADD CONSTRAINT FK_APP_OBJECT_AUTHORIZABLE_OBJECT 
    FOREIGN KEY (APP_SID, OBJECT_SID)
    REFERENCES DISPOSABLE.APP_OBJECT(APP_SID, OBJECT_SID)
;


-- 
-- TABLE: DISPOSABLE.OBJECT 
--

ALTER TABLE DISPOSABLE.OBJECT ADD CONSTRAINT FK_OBJECT_OBJECT 
    FOREIGN KEY (PARENT_OBJECT_SID)
    REFERENCES DISPOSABLE.OBJECT(OBJECT_SID)
;

ALTER TABLE DISPOSABLE.OBJECT ADD CONSTRAINT FK_OBJECT_OBJECT_TYPE_OBJECT 
    FOREIGN KEY (OBJECT_SID, OBJECT_TYPE_ID)
    REFERENCES DISPOSABLE.OBJECT_OBJECT_TYPE(OBJECT_SID, OBJECT_TYPE_ID)
;

ALTER TABLE DISPOSABLE.OBJECT ADD CONSTRAINT FK_OBJECT_SID_POOL_OBJECT 
    FOREIGN KEY (OBJECT_SID)
    REFERENCES DISPOSABLE.OBJECT_SID_POOL(OBJECT_SID)
;


-- 
-- TABLE: DISPOSABLE.OBJECT_OBJECT_TYPE 
--

ALTER TABLE DISPOSABLE.OBJECT_OBJECT_TYPE ADD CONSTRAINT FK_OBJECT_SID_POOL_OBJECT_OBJECT_TYPE 
    FOREIGN KEY (OBJECT_SID)
    REFERENCES DISPOSABLE.OBJECT_SID_POOL(OBJECT_SID)
;

ALTER TABLE DISPOSABLE.OBJECT_OBJECT_TYPE ADD CONSTRAINT FK_OBJECT_TYPE_OBJECT_OBJECT_TYPE 
    FOREIGN KEY (OBJECT_TYPE_ID)
    REFERENCES DISPOSABLE.OBJECT_TYPE(OBJECT_TYPE_ID)
;


-- 
-- TABLE: DISPOSABLE.OBJECT_PERMISSION_SET 
--

ALTER TABLE DISPOSABLE.OBJECT_PERMISSION_SET ADD CONSTRAINT FK_OBJECT_OBJECT_TYPE_OBJECT_PERMISSION_SET_1 
    FOREIGN KEY (SECONDARY_OBJECT_SID, SECONDARY_OBJECT_TYPE_ID)
    REFERENCES DISPOSABLE.OBJECT_OBJECT_TYPE(OBJECT_SID, OBJECT_TYPE_ID)
;

ALTER TABLE DISPOSABLE.OBJECT_PERMISSION_SET ADD CONSTRAINT FK_OBJECT_OBJECT_TYPE_OBJECT_PERMISSION_SET_2 
    FOREIGN KEY (PRIMARY_OBJECT_SID, PRIMARY_OBJECT_TYPE_ID)
    REFERENCES DISPOSABLE.OBJECT_OBJECT_TYPE(OBJECT_SID, OBJECT_TYPE_ID)
;

ALTER TABLE DISPOSABLE.OBJECT_PERMISSION_SET ADD CONSTRAINT FK_OBJECT_RELATIONSHIP_OBJECT_PERMISSION_SET 
    FOREIGN KEY (APP_SID, OBJECT_SID)
    REFERENCES DISPOSABLE.OBJECT_RELATIONSHIP(APP_SID, OBJECT_SID)
;

ALTER TABLE DISPOSABLE.OBJECT_PERMISSION_SET ADD CONSTRAINT FK_OBJECT_TYPE_PERMISSION_GRANULARITY_OBJECT_PERMISSION_SET 
    FOREIGN KEY (SECONDARY_OBJECT_TYPE_ID, PERMISSION_GRANULARITY_ID)
    REFERENCES DISPOSABLE.OBJECT_TYPE_PERMISSION_GRANULARITY(OBJECT_TYPE_ID, PERMISSION_GRANULARITY_ID)
;

ALTER TABLE DISPOSABLE.OBJECT_PERMISSION_SET ADD CONSTRAINT FK_OBJECT_TYPE_PERMISSION_OBJECT_PERMISSION_SET 
    FOREIGN KEY (PERMISSION_ID, SECONDARY_OBJECT_TYPE_ID)
    REFERENCES DISPOSABLE.OBJECT_TYPE_PERMISSION(OBJECT_TYPE_ID, PERMISSION_ID)
;

ALTER TABLE DISPOSABLE.OBJECT_PERMISSION_SET ADD CONSTRAINT FK_OBJECT_TYPE_RELATIONSHIP_OBJECT_PERMISSION_SET 
    FOREIGN KEY (PRIMARY_OBJECT_TYPE_ID, SECONDARY_OBJECT_TYPE_ID)
    REFERENCES DISPOSABLE.OBJECT_TYPE_RELATIONSHIP(PRIMARY_OBJECT_TYPE_ID, SECONDARY_OBJECT_TYPE_ID)
;

ALTER TABLE DISPOSABLE.OBJECT_PERMISSION_SET ADD CONSTRAINT FK_PERMISSION_OBJECT_PERMISSION_SET 
    FOREIGN KEY (PERMISSION_ID)
    REFERENCES DISPOSABLE.PERMISSION(PERMISSION_ID)
;

ALTER TABLE DISPOSABLE.OBJECT_PERMISSION_SET ADD CONSTRAINT FK_PERMISSION_TYPE_OBJECT_PERMISSION_SET 
    FOREIGN KEY (PERMISSION_TYPE_ID)
    REFERENCES DISPOSABLE.PERMISSION_TYPE(PERMISSION_TYPE_ID)
;


-- 
-- TABLE: DISPOSABLE.OBJECT_RELATIONSHIP 
--

ALTER TABLE DISPOSABLE.OBJECT_RELATIONSHIP ADD CONSTRAINT FK_APP_OBJECT_OBJECT_RELATIONSHIP 
    FOREIGN KEY (APP_SID, OBJECT_SID)
    REFERENCES DISPOSABLE.APP_OBJECT(APP_SID, OBJECT_SID)
;

ALTER TABLE DISPOSABLE.OBJECT_RELATIONSHIP ADD CONSTRAINT FK_AUTHORIZABLE_OBJECT_OBJECT_RELATIONSHIP 
    FOREIGN KEY (APP_SID, OBJECT_SID)
    REFERENCES DISPOSABLE.AUTHORIZABLE_OBJECT(APP_SID, OBJECT_SID)
;


-- 
-- TABLE: DISPOSABLE.OBJECT_TYPE_PERMISSION 
--

ALTER TABLE DISPOSABLE.OBJECT_TYPE_PERMISSION ADD CONSTRAINT FK_OBJECT_TYPE_OBJECT_TYPE_PERMISSION 
    FOREIGN KEY (OBJECT_TYPE_ID)
    REFERENCES DISPOSABLE.OBJECT_TYPE(OBJECT_TYPE_ID)
;

ALTER TABLE DISPOSABLE.OBJECT_TYPE_PERMISSION ADD CONSTRAINT FK_PERMISSION_OBJECT_TYPE_PERMISSION 
    FOREIGN KEY (PERMISSION_ID)
    REFERENCES DISPOSABLE.PERMISSION(PERMISSION_ID)
;


-- 
-- TABLE: DISPOSABLE.OBJECT_TYPE_PERMISSION_GRANULARITY 
--

ALTER TABLE DISPOSABLE.OBJECT_TYPE_PERMISSION_GRANULARITY ADD CONSTRAINT FK_OBJECT_TYPE_OBJECT_TYPE_PERMISSION_GRANULARITY 
    FOREIGN KEY (OBJECT_TYPE_ID)
    REFERENCES DISPOSABLE.OBJECT_TYPE(OBJECT_TYPE_ID)
;

ALTER TABLE DISPOSABLE.OBJECT_TYPE_PERMISSION_GRANULARITY ADD CONSTRAINT FK_PERMISSION_GRANULARITY_OBJECT_TYPE_PERMISSION_GRANULARITY 
    FOREIGN KEY (PERMISSION_GRANULARITY_ID)
    REFERENCES DISPOSABLE.PERMISSION_GRANULARITY(PERMISSION_GRANULARITY_ID)
;


-- 
-- TABLE: DISPOSABLE.OBJECT_TYPE_PERMISSION_SET 
--

ALTER TABLE DISPOSABLE.OBJECT_TYPE_PERMISSION_SET ADD CONSTRAINT FK_APP_OBJECT_TYPE_PERMISSION_SET 
    FOREIGN KEY (APP_SID)
    REFERENCES DISPOSABLE.APP(APP_SID)
;

ALTER TABLE DISPOSABLE.OBJECT_TYPE_PERMISSION_SET ADD CONSTRAINT FK_OBJECT_TYPE_PERMISSION_GRANULARITY_OBJECT_TYPE_PERMISSION_SET 
    FOREIGN KEY (SECONDARY_OBJECT_TYPE_ID, PERMISSION_GRANULARITY_ID)
    REFERENCES DISPOSABLE.OBJECT_TYPE_PERMISSION_GRANULARITY(OBJECT_TYPE_ID, PERMISSION_GRANULARITY_ID)
;

ALTER TABLE DISPOSABLE.OBJECT_TYPE_PERMISSION_SET ADD CONSTRAINT FK_OBJECT_TYPE_PERMISSION_OBJECT_TYPE_PERMISSION_SET 
    FOREIGN KEY (SECONDARY_OBJECT_TYPE_ID, PERMISSION_ID)
    REFERENCES DISPOSABLE.OBJECT_TYPE_PERMISSION(OBJECT_TYPE_ID, PERMISSION_ID)
;

ALTER TABLE DISPOSABLE.OBJECT_TYPE_PERMISSION_SET ADD CONSTRAINT FK_OBJECT_TYPE_RELATIONSHIP_OBJECT_TYPE_PERMISSION_SET 
    FOREIGN KEY (PRIMARY_OBJECT_TYPE_ID, SECONDARY_OBJECT_TYPE_ID)
    REFERENCES DISPOSABLE.OBJECT_TYPE_RELATIONSHIP(PRIMARY_OBJECT_TYPE_ID, SECONDARY_OBJECT_TYPE_ID)
;

ALTER TABLE DISPOSABLE.OBJECT_TYPE_PERMISSION_SET ADD CONSTRAINT FK_PERMISSION_TYPE_OBJECT_TYPE_PERMISSION_SET 
    FOREIGN KEY (PERMISSION_TYPE_ID)
    REFERENCES DISPOSABLE.PERMISSION_TYPE(PERMISSION_TYPE_ID)
;


-- 
-- TABLE: DISPOSABLE.OBJECT_TYPE_RELATIONSHIP 
--

ALTER TABLE DISPOSABLE.OBJECT_TYPE_RELATIONSHIP ADD CONSTRAINT FK_OBJECT_TYPE_OBJECT_TYPE_RELATIONSHIP_1 
    FOREIGN KEY (PRIMARY_OBJECT_TYPE_ID)
    REFERENCES DISPOSABLE.OBJECT_TYPE(OBJECT_TYPE_ID)
;

ALTER TABLE DISPOSABLE.OBJECT_TYPE_RELATIONSHIP ADD CONSTRAINT FK_OBJECT_TYPE_OBJECT_TYPE_RELATIONSHIP_2 
    FOREIGN KEY (SECONDARY_OBJECT_TYPE_ID)
    REFERENCES DISPOSABLE.OBJECT_TYPE(OBJECT_TYPE_ID)
;


-- 
-- TABLE: DISPOSABLE.ROLE 
--

ALTER TABLE DISPOSABLE.ROLE ADD CONSTRAINT FK_AUTHORIZABLE_OBJECT_ROLE 
    FOREIGN KEY (APP_SID, OBJECT_SID)
    REFERENCES DISPOSABLE.AUTHORIZABLE_OBJECT(APP_SID, OBJECT_SID)
;

ALTER TABLE DISPOSABLE.ROLE ADD CONSTRAINT FK_SYSTEM_ROLE_ROLE 
    FOREIGN KEY (SYSTEM_ROLE_SID)
    REFERENCES DISPOSABLE.SYSTEM_ROLE(SYSTEM_ROLE_SID)
;


-- 
-- TABLE: DISPOSABLE.ROLE_MEMBER 
--

ALTER TABLE DISPOSABLE.ROLE_MEMBER ADD CONSTRAINT FK_AUTHORIZABLE_OBJECT_ROLE_MEMBER 
    FOREIGN KEY (APP_SID, OBJECT_SID)
    REFERENCES DISPOSABLE.AUTHORIZABLE_OBJECT(APP_SID, OBJECT_SID)
;

ALTER TABLE DISPOSABLE.ROLE_MEMBER ADD CONSTRAINT FK_ROLE_ROLE_MEMBER 
    FOREIGN KEY (APP_SID, OBJECT_SID)
    REFERENCES DISPOSABLE.ROLE(APP_SID, OBJECT_SID)
;


-- 
-- TABLE: DISPOSABLE.SYSTEM_DEVICE 
--

ALTER TABLE DISPOSABLE.SYSTEM_DEVICE ADD CONSTRAINT FK_OBJECT_SYSTEM_DEVICE 
    FOREIGN KEY (DEVICE_SID)
    REFERENCES DISPOSABLE.OBJECT(OBJECT_SID)
;


-- 
-- TABLE: DISPOSABLE.SYSTEM_ROLE 
--

ALTER TABLE DISPOSABLE.SYSTEM_ROLE ADD CONSTRAINT FK_OBJECT_SYSTEM_ROLE 
    FOREIGN KEY (SYSTEM_ROLE_SID)
    REFERENCES DISPOSABLE.OBJECT(OBJECT_SID)
;


-- 
-- TABLE: DISPOSABLE.SYSTEM_USER 
--

ALTER TABLE DISPOSABLE.SYSTEM_USER ADD CONSTRAINT FK_OBJECT_SYSTEM_USER 
    FOREIGN KEY (USER_SID)
    REFERENCES DISPOSABLE.OBJECT(OBJECT_SID)
;


-- 
-- TABLE: DISPOSABLE.SYSTEM_USER_DEVICE 
--

ALTER TABLE DISPOSABLE.SYSTEM_USER_DEVICE ADD CONSTRAINT FK_SYSTEM_DEVICE_SYSTEM_USER_DEVICE 
    FOREIGN KEY (DEVICE_SID)
    REFERENCES DISPOSABLE.SYSTEM_DEVICE(DEVICE_SID)
;

ALTER TABLE DISPOSABLE.SYSTEM_USER_DEVICE ADD CONSTRAINT FK_SYSTEM_USER_SYSTEM_USER_DEVICE 
    FOREIGN KEY (USER_SID)
    REFERENCES DISPOSABLE.SYSTEM_USER(USER_SID)
;


-- 
-- TABLE: DISPOSABLE.USER 
--

ALTER TABLE DISPOSABLE.USER ADD CONSTRAINT FK_AUTHORIZABLE_OBJECT_USER 
    FOREIGN KEY (APP_SID, USER_SID)
    REFERENCES DISPOSABLE.AUTHORIZABLE_OBJECT(APP_SID, OBJECT_SID)
;

ALTER TABLE DISPOSABLE.USER ADD CONSTRAINT FK_SYSTEM_USER_USER 
    FOREIGN KEY (USER_SID)
    REFERENCES DISPOSABLE.SYSTEM_USER(USER_SID)
;


-- 
-- TABLE: DISPOSABLE.USER_DEVICE 
--

ALTER TABLE DISPOSABLE.USER_DEVICE ADD CONSTRAINT FK_APP_USER_DEVICE 
    FOREIGN KEY (APP_SID)
    REFERENCES DISPOSABLE.APP(APP_SID)
;

ALTER TABLE DISPOSABLE.USER_DEVICE ADD CONSTRAINT FK_SYSTEM_USER_DEVICE_USER_DEVICE 
    FOREIGN KEY (USER_SID, DEVICE_SID)
    REFERENCES DISPOSABLE.SYSTEM_USER_DEVICE(USER_SID, DEVICE_SID)
;

ALTER TABLE DISPOSABLE.USER_DEVICE ADD CONSTRAINT FK_USER_USER_DEVICE 
    FOREIGN KEY (APP_SID, OBJECT_SID)
    REFERENCES DISPOSABLE.USER(APP_SID, USER_SID)
;


